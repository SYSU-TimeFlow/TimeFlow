/* ===== 基础主题变量 ===== */
:root {
  /* 背景颜色系统 */
  --bg-primary: #ffffff; /* 主背景色，用于页面主体 */
  --bg-secondary: #f9fafb; /* 次要背景色，用于卡片、面板等 */
  --bg-tertiary: #f3f4f6; /* 第三级背景色，用于hover状态等 */
  --bg-sidebar: #f1f5f9; /* 侧边栏背景色 */

  /* 文本颜色系统 */
  --text-primary: #111827; /* 主要文本颜色，用于标题和重要内容 */
  --text-secondary: #4b5563; /* 次要文本颜色，用于普通文本 */
  --text-tertiary: #6b7280; /* 第三级文本颜色，用于辅助文本 */

  /* 边框和分割线 */
  --border-color: #e5e7eb; /* 边框颜色，用于分隔线和边框 */

  /* 交互状态颜色 */
  --hover-bg: #f3f4f6; /* 悬停状态背景色 */
  --active-bg: #e5e7eb; /* 激活状态背景色 */

  /* 卡片和模态框 */
  --card-bg: #ffffff; /* 卡片背景色 */
  --modal-bg: #ffffff; /* 模态框背景色 */
  --header-bg: #f8fafc; /* 头部背景色 */

  /* 选中状态 */
  --selected-bg: #dbeafe; /* 选中状态背景色 */

  /* 阴影效果 */
  --event-hover-shadow: rgba(0, 0, 0, 0.12); /* 事件悬停阴影 */
  --shadow-color: rgba(0, 0, 0, 0.1); /* 通用阴影颜色 */

  /* 提示框 */
  --tooltip-bg: #374151; /* 提示框背景色 */
  --tooltip-text: #ffffff; /* 提示框文本颜色 */
}

/* ===== 深色模式主题变量 ===== */
.dark-mode {
  /* 基础背景色系统 */
  --bg-primary: #0d1117; /* 主背景色，深色模式下的页面主体 */
  --bg-secondary: #161b22; /* 次要背景色，用于卡片、面板等 */
  --bg-tertiary: #21262d; /* 第三级背景色，用于hover状态等 */
  --bg-sidebar: #161b22; /* 侧边栏背景色 */

  /* 文本颜色系统 */
  --text-primary: #e6edf3; /* 主要文本颜色，更亮的文本 */
  --text-secondary: #c9d1d9; /* 次要文本颜色，适中的亮度 */
  --text-tertiary: #8b949e; /* 第三级文本颜色，较暗的文本 */

  /* 边框和分割线 */
  --border-color: #30363d; /* 边框颜色，深色模式下的分隔线 */

  /* 交互状态颜色 */
  --hover-bg: #1c2128; /* 悬停状态背景色 */
  --active-bg: #21262d; /* 激活状态背景色 */

  /* 卡片和模态框 */
  --card-bg: #161b22; /* 卡片背景色 */
  --modal-bg: #1c2128; /* 模态框背景色，比背景色稍亮 */
  --header-bg: #0d1117; /* 头部背景色 */

  /* 选中状态 */
  --selected-bg: #1f6feb; /* 选中状态背景色，使用蓝色主题 */

  /* 阴影效果 */
  --event-hover-shadow: rgba(0, 0, 0, 0.5); /* 事件悬停阴影，更深的阴影 */
  --shadow-color: rgba(0, 0, 0, 0.5); /* 通用阴影颜色 */

  /* 提示框 */
  --tooltip-bg: #21262d; /* 提示框背景色 */
  --tooltip-text: #e6edf3; /* 提示框文本颜色，更亮的文本 */

  /* 日历相关样式 */
  --date-number-color: #c9d1d9; /* 日期数字颜色 */
  --heading-color: #58a6ff; /* 标题颜色，GitHub风格蓝色 */
  --calendar-day-bg: #161b22; /* 日历日期背景色 */
  --calendar-today-bg: #1f6feb33; /* 今天日期背景色，带透明度 */
  --calendar-weekend-bg: #161b22; /* 周末日期背景色 */
  --calendar-day-hover-bg: #1c2128; /* 日期悬停背景色 */
  --calendar-hour-hover-bg: #1c2128; /* 小时悬停背景色 */

  /* 搜索框样式 */
  --search-bg: #0d1117; /* 搜索框背景色 */
  --search-border: #30363d; /* 搜索框边框颜色 */

  /* 按钮样式系统 */
  --button-primary: #388bfd; /* 主要按钮颜色 */
  --button-primary-hover: #58a6ff; /* 主要按钮悬停颜色 */
  --button-secondary: #21262d; /* 次要按钮颜色 */
  --active-item-bg: #1f6feb33; /* 激活项背景色，带透明度 */
  --active-item-border: #58a6ff; /* 激活项边框颜色 */

  /* 事件文本颜色 */
  --event-title-color: #e6edf3; /* 事件标题颜色 */
  --event-description-color: #c9d1d9; /* 事件描述颜色 */
  --event-time-color: #c9d1d9; /* 事件时间颜色 */
  --sidebar-title-color: #e6edf3; /* 侧边栏标题颜色 */
  --hour-cell-hover: #1c2128; /* 小时单元格悬停颜色 */

  /* 图标颜色系统 */
  --icon-color: #c9d1d9; /* 默认图标颜色 */
  --icon-color-hover: #e6edf3; /* 图标悬停颜色 */
  --icon-color-active: #58a6ff; /* 图标激活颜色 */

  /* 模态框样式系统 */
  --modal-bg: #1c2128; /* 模态框背景色 */
  --modal-header-bg: #21262d; /* 模态框头部背景色 */
  --modal-footer-bg: #21262d; /* 模态框底部背景色 */
  --modal-border: #30363d; /* 模态框边框颜色 */
  --modal-title-color: #f0f6fc; /* 模态框标题颜色 */
  --modal-label-color: #e6edf3; /* 模态框标签颜色 */
  --modal-input-bg: #0d1117; /* 模态框输入框背景色 */
  --modal-input-text: #f0f6fc; /* 模态框输入框文本颜色 */
  --modal-input-border: #30363d; /* 模态框输入框边框颜色 */
  --modal-button-text: #ffffff; /* 模态框按钮文本颜色 */
  --modal-button-bg: #58a6ff; /* 模态框按钮背景色 */
  --modal-button-hover: #79b8ff; /* 模态框按钮悬停颜色 */
  --modal-button-secondary: #21262d; /* 模态框次要按钮背景色 */
  --modal-button-secondary-hover: #30363d; /* 模态框次要按钮悬停颜色 */
  --modal-shadow: 0 16px 32px rgba(1, 4, 9, 0.85); /* 模态框阴影效果 */
}

/* ===== 滚动条样式 ===== */
.dark-mode ::-webkit-scrollbar {
  width: 8px; /* 垂直滚动条宽度 */
  height: 8px; /* 水平滚动条高度 */
}

.dark-mode ::-webkit-scrollbar-track {
  background: #161b22; /* 滚动条轨道背景色 */
}

.dark-mode ::-webkit-scrollbar-thumb {
  background: #30363d; /* 滚动条滑块颜色 */
  border-radius: 4px; /* 滚动条滑块圆角 */
}

.dark-mode ::-webkit-scrollbar-thumb:hover {
  background: #3f444c; /* 滚动条滑块悬停颜色 */
}

/* ===== 组件样式覆盖 ===== */
/* 按钮颜色覆盖 */
.dark-mode .bg-blue-600 {
  background-color: var(--button-primary) !important; /* 覆盖蓝色按钮背景 */
}

.dark-mode .bg-blue-700,
.dark-mode .hover\:bg-blue-700:hover {
  background-color: var(
    --button-primary-hover
  ) !important; /* 覆盖蓝色按钮悬停背景 */
}

/* 背景色覆盖 */
.dark-mode .bg-white {
  background-color: var(--bg-primary) !important; /* 覆盖白色背景 */
}

/* ===== 过渡动画 ===== */
body,
html,
* {
  transition: background-color 0.3s, color 0.3s, border-color 0.3s; /* 全局过渡效果 */
}

/* ===== 图标样式 ===== */
.dark-mode i {
  color: var(--icon-color); /* 默认图标颜色 */
}

.dark-mode button:hover i {
  color: var(--icon-color-hover); /* 图标悬停颜色 */
}

.dark-mode button.active i {
  color: var(--icon-color-active); /* 图标激活颜色 */
}

/* ===== 模态框样式 ===== */
.dark-mode .modal-header h3 {
  color: var(--modal-title-color); /* 模态框标题颜色 */
}

.dark-mode .modal-body label {
  color: var(--modal-label-color); /* 模态框标签颜色 */
}

.dark-mode .modal-body input,
.dark-mode .modal-body textarea {
  background-color: var(--modal-input-bg); /* 输入框背景色 */
  color: var(--modal-input-text); /* 输入框文本颜色 */
  border-color: var(--modal-input-border); /* 输入框边框颜色 */
}

.dark-mode .modal-footer button {
  color: var(--modal-button-text); /* 按钮文本颜色 */
}

.dark-mode .modal-footer button.bg-blue-600 {
  background-color: var(--modal-button-bg); /* 按钮背景色 */
}

.dark-mode .modal-footer button.bg-blue-600:hover {
  background-color: var(--modal-button-hover); /* 按钮悬停背景色 */
}

/* ===== 模态框背景增强 ===== */
.dark-mode .backdrop-blur-sm {
  backdrop-filter: blur(8px) !important; /* 背景模糊效果 */
  -webkit-backdrop-filter: blur(8px) !important; /* Safari兼容 */
  background: rgba(0, 0, 0, 0.6) !important; /* 背景遮罩 */
}

.dark-mode .fixed.inset-0.flex.items-center.justify-center {
  background: rgba(0, 0, 0, 0.75); /* 模态框容器背景 */
}

/* ===== 设置按钮样式 ===== */
.settings-cog-btn {
  color: var(--text-secondary); /* 设置按钮颜色 */
}

.settings-cog-btn:hover {
  color: var(--text-primary); /* 设置按钮悬停文本颜色 */
  background-color: var(--hover-bg); /* 设置按钮悬停背景色 */
}

.dark-mode .settings-cog-btn {
  color: var(--icon-color); /* 深色模式设置按钮颜色 */
}

.dark-mode .settings-cog-btn:hover {
  color: var(--icon-color-hover); /* 深色模式设置按钮悬停文本颜色 */
  background-color: var(--hover-bg); /* 深色模式设置按钮悬停背景色 */
}

/* ===== 日历样式 ===== */
.dark-mode .calendar-day {
  background-color: var(--bg-secondary); /* 日历日期背景色 */
  border-color: var(--border-color) !important; /* 日历日期边框颜色 */
}

.dark-mode .add-event-btn {
  background-color: var(--button-primary) !important; /* 添加事件按钮背景色 */
  color: var(--text-primary) !important; /* 添加事件按钮文本颜色 */
}

.dark-mode .add-event-btn:hover {
  background-color: var(
    --button-primary-hover
  ) !important; /* 添加事件按钮悬停背景色 */
}

.dark-mode .time-label {
  color: var(--text-tertiary); /* 时间标签颜色 */
}

/* ===== 月视图样式 ===== */
.dark-mode .calendar-grid .grid-cols-7 .text-sm {
  color: var(--text-primary); /* 月视图星期文本颜色 */
}

.dark-mode .day-number {
  color: var(--date-number-color); /* 日期数字颜色 */
  font-weight: 500; /* 日期数字字重 */
}

.dark-mode .calendar-day:not(.is-current-month) .day-number {
  color: var(--text-tertiary); /* 非当前月份日期颜色 */
  opacity: 0.5; /* 非当前月份日期透明度 */
}

.dark-mode .calendar-day.is-current-month {
  background-color: var(--calendar-day-bg); /* 当前月份日期背景色 */
}

.dark-mode .calendar-day.is-current-month .day-number {
  color: var(--text-primary); /* 当前月份日期文本颜色 */
  font-weight: 600; /* 当前月份日期字重 */
}

/* ===== 小时单元格样式 ===== */
.dark-mode .hour-cell:hover {
  background-color: var(
    --calendar-day-hover-bg
  ) !important; /* 小时单元格悬停背景色 */
  border-color: #4a88e5 !important; /* 小时单元格悬停边框颜色 */
}

/* ===== 事件样式 ===== */
.dark-mode .event-item,
.dark-mode .day-event {
  opacity: 0.9; /* 事件默认透明度 */
  box-shadow: 0 1px 5px rgba(255, 255, 255, 0.05); /* 事件阴影效果 */
}

.dark-mode .event-item:hover,
.dark-mode .day-event:hover {
  opacity: 1; /* 事件悬停透明度 */
  box-shadow: 0 2px 8px rgba(255, 255, 255, 0.1); /* 事件悬停阴影效果 */
}

.dark-mode .event-time {
  font-weight: 600; /* 事件时间字重 */
}

/* ===== 日历交互效果 ===== */
.dark-mode .calendar-day:hover {
  background-color: var(
    --calendar-day-hover-bg
  ) !important; /* 日期悬停背景色 */
  border-color: #4a88e5 !important; /* 日期悬停边框颜色 */
  box-shadow: 0 0 0 1px rgba(74, 136, 229, 0.3); /* 日期悬停阴影效果 */
}

.dark-mode .hour-cell:hover::after {
  content: ""; /* 伪元素内容 */
  position: absolute; /* 绝对定位 */
  top: 0; /* 顶部定位 */
  left: 0; /* 左侧定位 */
  right: 0; /* 右侧定位 */
  bottom: 0; /* 底部定位 */
  border: 1px solid #4a88e5; /* 边框样式 */
  pointer-events: none; /* 禁用鼠标事件 */
  z-index: 2; /* 层级 */
  border-color: #4a88e5; /* 边框颜色 */
}

/* ===== 事件文本样式 ===== */
.dark-mode .event-title {
  color: var(--event-title-color) !important; /* 事件标题颜色 */
}

.dark-mode .event-description {
  color: var(--event-description-color) !important; /* 事件描述颜色 */
}

.dark-mode .event-time {
  color: var(--event-time-color) !important; /* 事件时间颜色 */
  font-weight: 500; /* 事件时间字重 */
}

/* ===== 周视图样式 ===== */
.dark-mode .week-view .day-header {
  background-color: var(--bg-primary) !important; /* 周视图日期头部背景色 */
  border-bottom: none !important; /* 移除底部边框 */
}

.dark-mode .week-view .grid > div:first-child {
  border-bottom: none !important; /* 移除第一个网格底部边框 */
}

.dark-mode .week-view .day-header .text-sm,
.dark-mode .week-view .day-header .text-lg {
  color: var(--text-primary) !important; /* 周视图日期文本颜色 */
}

/* ===== 时间槽样式 ===== */
.dark-mode .time-slot:hover::before {
  background-color: var(--bg-primary); /* 时间槽悬停背景色 */
}

.dark-mode .time-slot:hover::after {
  border-color: #4a88e5; /* 时间槽悬停边框颜色 */
}

.dark-mode .half-hour-cell:hover {
  background-color: var(--bg-primary) !important; /* 半小时单元格悬停背景色 */
}

.dark-mode .half-hour-cell:hover::after {
  border-color: #4a88e5; /* 半小时单元格悬停边框颜色 */
}

/* ===== 当前时间线样式 ===== */
.dark-mode .current-time-line .time-text {
  color: #58a6ff; /* 当前时间文本颜色 */
}

.dark-mode .current-time-line .time-line {
  background-color: #58a6ff; /* 当前时间线颜色 */
}

/* ===== 农历样式 ===== */
.dark-mode .lunar-date {
  color: var(--text-tertiary); /* 农历日期颜色 */
}

.dark-mode .lunar-month {
  color: #58a6ff !important; /* 农历月份颜色 */
}

/* ===== 事件调整手柄样式 ===== */
.dark-mode .event-resize-handle:hover {
  background-color: rgba(74, 136, 229, 0.3); /* 事件调整手柄悬停背景色 */
}

/* ===== SettingPage ===== */
/* 容器样式 */
.dark-mode .settings-container {
  background-color: var(--modal-bg) !important; /* 设置容器背景色 */
  color: var(--text-primary) !important; /* 设置容器文本颜色 */
  border: 1px solid var(--modal-border) !important; /* 设置容器边框 */
  box-shadow: var(--modal-shadow) !important; /* 设置容器阴影 */
}

/* 标题样式 */
.dark-mode .settings-container h2 {
  color: var(--modal-title-color) !important; /* 设置标题颜色 */
}

/* 文本颜色 */
.dark-mode .text-gray-700 {
  color: var(--modal-label-color) !important; /* 设置标签颜色 */
}

.dark-mode .text-gray-500 {
  color: var(--text-secondary) !important; /* 设置次要文本颜色 */
}

/* 表单元素样式 */
.dark-mode select {
  background-color: var(--modal-input-bg) !important; /* 下拉框背景色 */
  color: var(--modal-input-text) !important; /* 下拉框文本颜色 */
  border: 1px solid var(--modal-input-border) !important; /* 下拉框边框 */
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.3); /* 下拉框内阴影 */
}

.dark-mode select:focus {
  border-color: #58a6ff !important; /* 下拉框焦点边框颜色 */
  box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.3) !important; /* 下拉框焦点阴影 */
}

.dark-mode select option {
  background-color: var(--modal-input-bg) !important; /* 选项背景色 */
  color: var(--modal-input-text) !important; /* 选项文本颜色 */
}

/* 按钮样式 */
.dark-mode button.bg-blue-600 {
  background-color: var(--modal-button-bg) !important; /* 按钮背景色 */
  color: var(--modal-button-text) !important; /* 按钮文本颜色 */
  border-color: var(--modal-button-bg); /* 按钮边框颜色 */
}

.dark-mode button.bg-blue-600:hover {
  background-color: var(--modal-button-hover) !important; /* 按钮悬停背景色 */
}

/* 开关按钮样式 */
.dark-mode .toggle-checkbox {
  accent-color: #58a6ff; /* 开关按钮颜色 */
  filter: brightness(1.2); /* 开关按钮亮度 */
}

/* 关闭按钮样式 */
.dark-mode .text-red-500 {
  color: #ff6b6b !important; /* 关闭按钮颜色 */
}

.dark-mode .text-red-500:hover {
  color: #ff5252 !important; /* 关闭按钮悬停颜色 */
  background-color: rgba(255, 107, 107, 0.1); /* 关闭按钮悬停背景色 */
}

/* 图标颜色 */
.dark-mode .text-blue-500 {
  color: #58a6ff !important;
} /* 蓝色图标 */
.dark-mode .text-green-500 {
  color: #56d364 !important;
} /* 绿色图标 */
.dark-mode .text-yellow-500 {
  color: #ffd33d !important;
} /* 黄色图标 */
.dark-mode .text-purple-500 {
  color: #bc8cff !important;
} /* 紫色图标 */
.dark-mode .text-orange-500 {
  color: #ff8c42 !important;
} /* 橙色图标 */
.dark-mode .text-yellow-600 {
  color: #ffd33d !important;
} /* 深黄色图标 */
.dark-mode .text-gray-400 {
  color: #8b949e !important;
} /* 灰色图标 */

/* 提示框样式 */
.dark-mode .bg-green-500 {
  background-color: var(--modal-button-bg) !important; /* 成功提示框背景色 */
}

.dark-mode .bg-blue-500 {
  background-color: #58a6ff !important; /* 信息提示框背景色 */
}
