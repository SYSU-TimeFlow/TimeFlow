:root {
  /* 亮色模式的变量 */
  --bg-primary: #ffffff;
  --bg-secondary: #f9fafb;
  --bg-tertiary: #f3f4f6;
  --bg-sidebar: #f1f5f9;
  --text-primary: #111827;
  --text-secondary: #4b5563;
  --text-tertiary: #6b7280;
  --border-color: #e5e7eb;
  --hover-bg: #f3f4f6;
  --active-bg: #e5e7eb;
  --card-bg: #ffffff;
  --modal-bg: #ffffff; /* 亮色模式下的模态框背景 */
  --header-bg: #f8fafc;
  --selected-bg: #dbeafe;
  --event-hover-shadow: rgba(0, 0, 0, 0.12);
  --shadow-color: rgba(0, 0, 0, 0.1);
  --tooltip-bg: #374151;
  --tooltip-text: #ffffff;
}

/* 暗黑模式变量 */
.dark-mode {
  /* 基础背景色 - 参考 GitHub 深色模式 */
  --bg-primary: #0d1117;
  --bg-secondary: #161b22;
  --bg-tertiary: #21262d;
  --bg-sidebar: #161b22;

  /* 文本颜色 - GitHub 风格的灰度 */
  --text-primary: #e6edf3; /* 更亮的文本颜色 */
  --text-secondary: #c9d1d9; /* 次要文本更亮 */
  --text-tertiary: #8b949e; /* 第三级文本保持适中亮度 */

  /* 边框和分割线 */
  --border-color: #30363d;

  /* 交互状态 */
  --hover-bg: #1c2128;
  --active-bg: #21262d;

  /* 卡片和模态框 */
  --card-bg: #161b22;
  --modal-bg: #1c2128; /* 暗黑模式下的模态框背景 (比背景色稍亮的深灰) */
  --header-bg: #0d1117;

  /* 选中状态 - 蓝色主题 */
  --selected-bg: #1f6feb;

  /* 阴影效果 */
  --event-hover-shadow: rgba(0, 0, 0, 0.5);
  --shadow-color: rgba(0, 0, 0, 0.5);

  /* 提示框 */
  --tooltip-bg: #21262d;
  --tooltip-text: #e6edf3; /* 更亮的提示文本 */

  /* 日历相关 */
  --date-number-color: #c9d1d9; /* 更亮的日期数字 */
  --heading-color: #58a6ff; /* GitHub 风格的蓝色 */
  --calendar-day-bg: #161b22;
  --calendar-today-bg: #1f6feb33; /* 带透明度的蓝色 */
  --calendar-weekend-bg: #161b22;
  --calendar-day-hover-bg: #1c2128;
  --calendar-hour-hover-bg: #1c2128;

  /* 搜索框 */
  --search-bg: #0d1117;
  --search-border: #30363d;

  /* 按钮相关 - 蓝色主题 */
  --button-primary: #388bfd; /* GitHub 风格的蓝色 */
  --button-primary-hover: #58a6ff; /* 悬停时更亮的蓝色 */
  --button-secondary: #21262d;
  --active-item-bg: #1f6feb33; /* 带透明度的蓝色 */
  --active-item-border: #58a6ff; /* 更亮的蓝色边框 */

  /* 事件文本 - 更亮的颜色 */
  --event-title-color: #e6edf3; /* 更亮的事件标题 */
  --event-description-color: #c9d1d9; /* 更亮的事件描述 */
  --event-time-color: #c9d1d9; /* 更亮的时间文本 */
  --sidebar-title-color: #e6edf3; /* 更亮的侧边栏标题 */
  --hour-cell-hover: #1c2128;

  /* 图标颜色 */
  --icon-color: #c9d1d9; /* 默认图标颜色 */
  --icon-color-hover: #e6edf3; /* 悬停时的图标颜色 */
  --icon-color-active: #58a6ff; /* 激活状态的图标颜色 */

  /* 模态框相关 - 增强区分度和文字对比度 */
  --modal-bg: #1c2128; /* 比背景色稍亮的深灰 */
  --modal-header-bg: #21262d; /* 模态框头部背景 */
  --modal-footer-bg: #21262d; /* 模态框底部背景 */
  --modal-border: #30363d; /* 模态框边框 */
  --modal-text-primary-color: #e6edf3;
  --modal-text-secondary-color: #8d8d8d; /* 次亮的模态框文本颜色 */
  --modal-title-color: #f0f6fc; /* 最亮的模态框标题，用于重要文字 */
  --modal-label-color: #e6edf3; /* 次亮的模态框标签，用于普通文字 */
  --modal-input-bg: #0d1117; /* 输入框背景更深，增强对比 */
  --modal-input-text: #f0f6fc; /* 输入框文字更亮 */
  --modal-input-border: #30363d; /* 输入框边框 */
  --modal-button-text: #ffffff; /* 按钮文字纯白 */
  --modal-button-bg: #58a6ff; /* 浅蓝色主按钮 */
  --modal-button-hover: #79b8ff; /* 浅蓝色按钮悬停 */
  --modal-button-secondary: #21262d; /* 次要按钮背景 */
  --modal-button-secondary-hover: #30363d; /* 次要按钮悬停 */
  --modal-shadow: 0 16px 32px rgba(1, 4, 9, 0.85); /* 更明显的阴影 */
}


/* 覆盖各种组件的默认样式 */
.dark-mode .bg-blue-600 {
  background-color: var(--button-primary) !important;
}

.dark-mode .bg-blue-700,
.dark-mode .hover\:bg-blue-700:hover {
  background-color: var(--button-primary-hover) !important;
}

/* 确保颜色过渡平滑 */
body,
html,
* {
  transition: background-color 0.3s, color 0.3s, border-color 0.3s;
}

/* 暗黑模式下的图标样式 */
.dark-mode i {
  color: var(--icon-color);
}

.dark-mode button:hover i {
  color: var(--icon-color-hover);
}

.dark-mode button.active i {
  color: var(--icon-color-active);
}


/* ====================== 统一模态框样式 ======================= */

/* 模态框基础样式 (亮色模式) */
.event-modal,
.settings-container,
.todo-modal,
.help-modal,
.category-modal,
.feedback-modal {
  background-color: var(--modal-bg); /* 使用亮色模式下的模态框背景色 */
  color: var(--text-primary); /* 使用亮色模式下的主要文本颜色 */
}

/* 暗黑模式下的统一模态框样式 */
.dark-mode .event-modal,
.dark-mode .settings-container,
.dark-mode .todo-modal,
.dark-mode .help-modal,
.dark-mode .category-modal,
.dark-mode .feedback-modal {
  background-color: var(--modal-bg) !important; /* 使用暗黑模式下的模态框背景色 */
  color: var(--modal-text-primary-color); /* 使用暗黑模式下的主要文本颜色 */
  border: 1px solid var(--modal-border); /* 添加边框以增强区分度 */
  box-shadow: var(--modal-shadow); /* 添加阴影以提升视觉层次 */
}

/* 统一模态框头部、主体、底部样式 */
.dark-mode .modal-header,
.dark-mode .modal-body,
.dark-mode .modal-footer {
  border-color: var(--modal-border); /* 使用暗黑模式下的边框颜色 */
  background-color: var(--modal-bg); /* 使用暗黑模式下的背景色 */
}

/* 统一模态框标题样式 */
.dark-mode .modal-header h3 {
  color: var(--modal-title-color) !important; /* 使用暗黑模式下的标题颜色 */
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7); /* 添加轻微的文字阴影以增强可读性 */
  font-weight: 600; /* 加粗标题以突出显示 */
}

/* 统一表单标签样式 */
.dark-mode .modal-body label,
.dark-mode .form-group label {
  color: var(--modal-label-color) !important; /* 使用暗黑模式下的标签颜色 */
  font-weight: 500; /* 适度加粗标签文字 */
}

/* 亮色模式下的输入框样式 */
.modal-body input,
.modal-body textarea,
.modal-body select,
.form-group input,
.form-group textarea,
.form-group select {
  border: 1px solid #d1d5db !important; /* 使用亮色模式下的输入框边框颜色 */
  padding: 0.5rem; /* 添加内边距 */
  border-radius: 0.375rem; /* 圆角 */
  outline: none; /* 移除默认的聚焦样式 */
  transition: box-shadow 0.3s, border-color 0.3s; /* 平滑过渡效果 */
}

.modal-body input:focus,
.modal-body textarea:focus,
.modal-body select:focus,
.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
  border-color: #388bfd !important; /* 聚焦时移除边框颜色 */
  box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.3); /* 聚焦时的炫光效果 */
}

/* 统一输入框和文本域样式 */
.dark-mode .modal-body input,
.dark-mode .modal-body textarea,
.dark-mode .modal-body select,
.dark-mode .form-group input,
.dark-mode .form-group textarea,
.dark-mode .form-group select {
  background-color: var(--modal-input-bg) !important; /* 使用暗黑模式下的输入框背景色 */
  color: var(--modal-input-text) !important; /* 使用暗黑模式下的输入框文字颜色 */
  border: 1px solid var(--modal-input-border, #d1d5db) !important; /* 使用暗黑模式下的输入框边框颜色，默认值为 border-gray-300 */
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.3); /* 添加内阴影以增强视觉效果 */
}

/* 统一输入框焦点样式 */
.dark-mode .modal-body input:focus,
.dark-mode .modal-body textarea:focus,
.dark-mode .modal-body select:focus,
.dark-mode .form-group input:focus,
.dark-mode .form-group textarea:focus,
.dark-mode .form-group select:focus {
  border-color: #58a6ff !important; /* 焦点状态下的边框颜色 */
  box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.3) !important; /* 焦点状态下的外阴影 */
}

/* 统一占位符样式 */
.dark-mode .modal-body input::placeholder,
.dark-mode .modal-body textarea::placeholder,
.dark-mode .form-group input::placeholder,
.dark-mode .form-group textarea::placeholder {
  color: var(--text-tertiary) !important; /* 使用暗黑模式下的占位符颜色 */
}

/* 统一按钮样式 */
.dark-mode .modal-footer button {
  color: var(--modal-button-text); /* 按钮文字颜色 */
}

.dark-mode .modal-footer button.bg-blue-600,
.dark-mode .modal-footer .btn-primary {
  background-color: var(--modal-button-bg) !important; /* 主按钮背景色 */
  color: var(--modal-button-text) !important; /* 主按钮文字颜色 */
  border: 1px solid var(--modal-button-bg); /* 主按钮边框颜色 */
}

.dark-mode .modal-footer button.bg-blue-600:hover,
.dark-mode .modal-footer .btn-primary:hover {
  background-color: var(--modal-button-hover) !important; /* 主按钮悬停背景色 */
}

.dark-mode .modal-footer button.bg-red-600,
.dark-mode .modal-footer .btn-danger {
  background-color: #da3633 !important; /* 危险按钮背景色 */
  color: var(--modal-button-text) !important; /* 危险按钮文字颜色 */
  border: 1px solid #da3633; /* 危险按钮边框颜色 */
}

.dark-mode .modal-footer button.bg-red-600:hover,
.dark-mode .modal-footer .btn-danger:hover {
  background-color: #f85149 !important; /* 危险按钮悬停背景色 */
}

.dark-mode .modal-footer button.bg-gray-300,
.dark-mode .modal-footer .btn-secondary {
  background-color: var(--modal-button-secondary) !important; /* 次要按钮背景色 */
  color: var(--text-primary) !important; /* 次要按钮文字颜色 */
  border: 1px solid var(--modal-border); /* 次要按钮边框颜色 */
}

.dark-mode .modal-footer button.bg-gray-300:hover,
.dark-mode .modal-footer .btn-secondary:hover {
  background-color: var(--modal-button-secondary-hover) !important; /* 次要按钮悬停背景色 */
}
/* 统一关闭按钮样式 */
.modal-close-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2rem;
  height: 2rem;
  border-radius: 0.375rem;
  cursor: pointer;
  border: none;
  background: transparent;
  color: #6b7280; /* 默认关闭按钮颜色 */
  font-size: 1.125rem;
}

.modal-close-btn:hover {
  color: #ef4444; /* 悬停时关闭按钮颜色 */
  background-color: rgba(239, 68, 68, 0.1); /* 悬停时关闭按钮背景色 */
}

.modal-close-btn:active {
  background-color: rgba(239, 68, 68, 0.2); /* 点击时背景色 */
}

/* 暗黑模式下的关闭按钮样式 */
.dark-mode .modal-close-btn {
  color: var(--text-secondary); /* 暗黑模式下的关闭按钮颜色 */
}

.dark-mode .modal-close-btn:hover {
  color: #bc2d2d; /* 暗黑模式下悬停时关闭按钮颜色 */
  background-color: rgba(255, 107, 107, 0.1); /* 暗黑模式下悬停时关闭按钮背景色 */
}

/* 统一模态框底部按钮样式 */
.modal-save-btn {
  padding: 0.5rem 1rem;
  background-color: #3b82f6;
  color: white;
  border: none;
  border-radius: 0.5rem;
  cursor: pointer;
  font-weight: 500;
  transition: background-color 0.2s;
}

.modal-save-btn:hover {
  background-color: #2563eb;
}

.modal-save-btn:disabled {
  background-color: #d1d5db;
  color: #9ca3af;
  cursor: not-allowed;
}

.modal-del-btn {
  padding: 0.5rem 1rem;
  background-color: #ef4444;
  color: white;
  border: none;
  border-radius: 0.5rem;
  cursor: pointer;
  font-weight: 500;
  transition: background-color 0.2s;
}

.modal-del-btn:hover {
  background-color: #dc2626;
}

/* 暗黑模式下的统一按钮样式 */
.dark-mode .modal-save-btn {
  background-color: var(--modal-button-bg);
  color: var(--modal-button-text);
}

.dark-mode .modal-save-btn:hover {
  background-color: var(--modal-button-hover);
}

.dark-mode .modal-save-btn:disabled {
  background-color: var(--modal-button-secondary);
  color: var(--text-tertiary);
}

.dark-mode .modal-del-btn {
  background-color: #da3633;
  color: var(--modal-button-text);
}

.dark-mode .modal-del-btn:hover {
  background-color: #f85149;
}

/* 统一快捷键样式 */
.dark-mode kbd {
  background-color: var(--modal-input-bg) !important; /* 快捷键背景色 */
  border: 1px solid var(--modal-input-border) !important; /* 快捷键边框颜色 */
  color: var(--modal-title-color) !important; /* 快捷键文字颜色 */
  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.1),
    inset 0 1px 2px rgba(0, 0, 0, 0.3); /* 快捷键阴影效果 */
}

/* ====================== 模态框规范 ======================= */

/*
模态框规范：
1. 每个模态框应包含以下部分：
   - modal-header: 用于显示模态框标题或关闭按钮。
   - modal-body: 用于显示主要内容，如表单、文本或其他交互元素。
   - modal-footer: 用于显示操作按钮，如“保存”、“取消”等。

2.设计原因：
   - 统一的结构和样式可以提高代码的可维护性和一致性。一次性地定义样式和结构，减少重复代码。
   - 模态框的分区设计有助于快速定位和修改特定部分的样式或功能。
   - 提供一致的交互体验，增强用户的熟悉感。
*/
